<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="learn-vi.css" />
	<title>VIMå­¦ä¹ ç¬”è®° è®¾ç½®é€‰é¡¹(set-option)</title>
</head>
<body>
	<h1>VIMå­¦ä¹ ç¬”è®° è®¾ç½®é€‰é¡¹(set-option)</h1>

	<p>Vimä½¿ç”¨viminfoé€‰é¡¹ï¼Œæ¥å®šä¹‰å¦‚ä½•ä¿å­˜sessionä¿¡æ¯ã€‚è¿™æ˜¯ä¸€ç»„ä½¿ç”¨é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ã€‚</p>

Use the viminfo option to set the location of your _viminfo. eg

:set viminfo=nC:\\_viminfo

	<p style="text-indent:2em"><code class="inset">:help viminfo</code></p>

ViM uses the viminfo file as a memory dump to remember information from the last session. On Windows, this file is named _viminfo and stored in the directory %HOMEDRIVE%/%HOMEPATH.

For example, on a home computer %HOMEDRIVE% might be C: and %HOMEPATH% might be \Users\Joe. Thus, ViM will use C:\Users\Joe\_viminfo

For computers which are connected to a work domain, the %HOMEDRIVE% and %HOMEPATH% are typically set to shared folders on the network. These folders might sometimes be down or slow, causing error messages related to viminfo. Therefore, the default viminfo location on Windows is not appropriate if the computer is on a work domain. A good place for it would be the %LOCALAPPDATA% directory.

To indicate a different viminfo directory to ViM, add this to the vimrc file:
set viminfo+=n$LOCALAPPDATA/_viminfo

The viminfo option is a comma-separated list of parameters. Each parameter is specified by a single character, followed by a number or string that is the value of that parameter. The viminfo file parameter is specified by the letter n, followed by the string that is the path where _viminfo should be stored. Enclosing the path in double quotes does not work! ğŸ˜¡

Note the += operator used to set the viminfo option. The viminfo option already has a bunch of parameters that are specified by default. Thus, we append the viminfo file path parameter to this by using the += operator.

It was indeed in C:\Users\<username>\_viminfo. The command :echo $HOME works a charm as well. 
<p>åœ¨<a href="http://yyq123.github.io/learn-vim/learn-vi-59-vimrc.html" title="vimrc">vimrc</a>é…ç½®æ–‡ä»¶ä¸­ï¼Œå®šä¹‰viminfoé€‰é¡¹ï¼š</p>
set viminfo=%,<800,'10,/50,:100,h,f0,n~/.vim/cache/.viminfo
"           | |    |   |   |    | |  + viminfoæ–‡ä»¶è·¯å¾„
"           | |    |   |   |    | + file marks 0-9,A-Z 0=NOT stored
"           | |    |   |   |    + hlsearch on (H) or off (h)
"           | |    |   |   + ä¿å­˜å‘½ä»¤å†å²æ¡æ•°
"           | |    |   + ä¿å­˜æœç´¢å†å²æ¡æ•°
"           | |    + files marks saved
"           | + lines saved each register (old name for <, vi6.2)
"           + save/restore buffer list
<p>è¯·æ³¨æ„ï¼Œã€‚</p>
<ul>
	<li>å¦‚æœæ‚¨æ²¡æœ‰å®šä¹‰/nå’Œ:nå­é€‰é¡¹ï¼Œé‚£ä¹ˆå°†ä½¿ç”¨historyé€‰é¡¹çš„å€¼</li>
	<li>å»ºè®®ä¸è¦å°†<nè®¾ç½®è¿‡å¤§ï¼Œå› ä¸ºæ­¤é€‰é¡¹å°†å½±å“ä¿å­˜è‡³viminfoæ–‡ä»¶ä¸­çš„ä¿¡æ¯é‡ã€‚Vimæ¯æ¬¡å¯åŠ¨æ—¶ï¼Œå°†è¯»å–viminfoæ–‡ä»¶ï¼Œè¿‡å¤§çš„æ–‡ä»¶å°ºå¯¸ï¼Œå°†å½±å“Vimå¯åŠ¨é€Ÿåº¦ã€‚</li>
</ul>
<p>åœ¨<a href="http://yyq123.github.io/learn-vim/learn-vi-59-vimrc.html" title="vimrc">vimrc</a>æ–‡ä»¶å¼€å¤´ï¼Œå®šä¹‰ä»¥ä¸‹é€‰é¡¹ï¼š</p>
<p style="text-indent:2em"><code class="inset">:set nocompatible</code></p>

<p>viminfoä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p>
# Command Line History (newest to oldest)
# Search String History (newest to oldest)
# Expression History (newest to oldest):
# Input Line History (newest to oldest):
# Debug Line History (newest to oldest):
# Registers:
# File marks:
# Jumplist (newest first)
# History of marks within files (newest to oldest)

" These commands open folds
set foldopen=block,insert,jump,mark,percent,quickfix,search,tag,undo

	<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥è®¾ç½®æ‰“å¼€æ–‡ä»¶æ—¶æ˜¾ç¤ºæŠ˜å çš„å±‚çº§ï¼š</p>
	<p style="text-indent:2em"><code class="inset">:set foldlevelstart=n</code></p>
	<p>å…¶ä¸­ï¼Œ<i>n</i>å¯ä»¥è®¾ç½®ä¸ºä»¥ä¸‹å€¼ï¼š</p>
	<ul>
		<li><strong>-1ï¼ˆé»˜è®¤å€¼ï¼‰</strong>ï¼Œè®¾ç½®ä¸ºè´Ÿæ•°æ—¶ï¼Œæ­¤é€‰é¡¹å°†è¢«å¿½ç•¥ï¼›</li>
		<li><strong>0</strong>ï¼Œæ‰€æœ‰æŠ˜å éƒ½æ˜¯å…³é—­çŠ¶æ€ï¼›</li>
		<li><strong>99</strong>ï¼Œæ‰€æœ‰æŠ˜å éƒ½æ˜¯æ‰“å¼€çŠ¶æ€ï¼›å¦‚æœè®¾ç½®ä¸ºå…¶ä»–æ­£æ•°æ—¶ï¼Œåˆ™æ‰“å¼€ç›¸åº”çº§åˆ«çš„æŠ˜å ã€‚</li>
	</ul>
é€‰é¡¹winaltkeyså¯ä»¥æ§åˆ¶Alté”®çš„ä½¿ç”¨.
ä¾‹å¦‚,å¦‚æœæˆ‘ä»¬æ‰§è¡Œäº†ä¸‹é¢çš„å‘½ä»¤,æ‰€æœ‰çš„Alté”®å°±å¯ä»¥é€šè¿‡:mapå‘½ä»¤æ¥ä½¿ç”¨ä¹‹æˆæˆ‘ä»¬å‘½ä»¤ä¸­çš„ä¸€éƒ¨åˆ†:
:set winaltkeys=no
æ‰§è¡ŒAlt-Få¹¶ä¸ä¼šé€‰æ‹©æ–‡ä»¶èœå•è€Œæ˜¯æ‰§è¡Œæ˜ å°„çš„Alt-Få‘½ä»¤.è¿™ä¸ªå¯ä»¥æ˜ å°„å¯ä»¥æ˜¯ä¸‹é¢çš„æ ·å­:
:map <M-f> :write
åœ¨è¿™é‡Œæˆ‘ä»¬è¦çŸ¥é“çš„å°±æ˜¯åœ¨Vimä¸­Altä¼šè¢«å«ä½œM-,Metaçš„æ„æ€.
å¦‚æœæˆ‘ä»¬æ‰§è¡Œäº†ä¸‹é¢çš„å‘½ä»¤,æ‰€æœ‰çš„Alté”®ç›˜å°±ä¼šé€‰æ‹©èœå•å†…å®¹è€Œä¸ä¼šæ‰§è¡Œæ˜ å°„å‘½ä»¤äº†:
:set winaltkeys=yes
ç¬¬ä¸‰ä¸ªé€‰é¡¹æ˜¯yeså’Œnoçš„ç»„åˆ:
:set winaltkeys=menu
åœ¨è¿™ç§æ¨¡å¼ä¸‹,Alté”®å¯ä»¥ç”¨äºé€‰æ‹©èœå•,ä¹Ÿå¯ä»¥ç”¨æ¥æ˜ å°„:mapå‘½ä»¤.æ‰€ä»¥Alt-Få¯ä»¥é€‰æ‹©æ–‡ä»¶èœå•,è€Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨Alt-Xæ¥æ˜ å°„å‘½ä»¤.

æœæˆ‘ä»¬è®¾ç½®äº†moreé€‰é¡¹,å½“ä¸€ä¸ªå‘½ä»¤çš„æ˜¾ç¤ºä¼šè¶…å‡ºä¸€å±æ—¶å°±ä¼šæ˜¾ç¤ºMoreæç¤º.å¦‚æœæ²¡æœ‰è¿›è¡Œè®¾ç½®åªæ˜¯ä¼šç¿»æ»šå±å¹•.é»˜è®¤å¦‚ä¸‹:
:set more
ä¸‹é¢çš„å‘½ä»¤å®šä¹‰äº†å¯ä»¥ç”±CTRL-A,CTRL-Xè¯†åˆ«çš„æ•°å­—æ ¼å¼.
:set nrformats=octal,hex
(æ³¨:åè¿›åˆ¶æ€»æ˜¯å¯ä»¥è¯†åˆ«)
å¦‚æœæˆ‘ä»¬è®¾ç½®äº†ä¸‹é¢çš„é€‰é¡¹,Vimå°±ä¼šè¯•ç€é‡æ–°è£…å…¥ç»ˆç«¯å±å¹•çš„å†…å®¹.
:set restorescreen
æ¢å¥è¯è¯´,ä»–ä¼šè¯•ç€ä½¿å¾—æˆ‘ä»¬è¿è¡Œè¿™ä¸ªç¨‹åºä»¥åçš„å±å¹•çœ‹èµ·æ¥å°±åƒä»–è¿è¡Œä»¥å‰çš„ä¸€æ ·.

" Set the search scan to wrap around the file
set wrapscan

" Set the forward slash to be the slash of note. Backslashes suck
" This is really only applicable to Windows but I like to have a vimrc
" that works no matter what OS I'm currently on
set shellslash

" Allow backspacing over indent, eol, and the start of an insert
set backspace=2


å½“æˆ‘ä»¬åˆ é™¤æˆ–æ˜¯ä¿®æ”¹äº†ä¸€äº›è¡Œçš„æ–‡æœ¬,å¦‚æœè¿™äº›è¡Œæ•°è¶…å‡ºäº†reportæ‰€æŒ‡å®šçš„è¡Œæ•°,Vimç¼–è¾‘å™¨å°±ä¼šå‘Šè¯‰è¿™ä¸€äº›æƒ…å†µ.æ‰€ä»¥å¦‚æœæˆ‘ä»¬è¦VimæŠ¥å‘Šæ‰€æœ‰çš„å˜åŒ–,æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤:
:set report=0
ç›¸å,å¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›Vimæ¥å‘Šè¯‰æˆ‘ä»¬è¿™äº›å˜åŒ–,æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªå€¼è®¾æˆä¸€ä¸ªç›¸å½“å¤§çš„å€¼å°±å¯äº†.
æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥è®¾ç½®é¢„è§ˆçª—å£çš„å¤§å°:
:set previewheight={height}


ä½†æ˜¯å¦‚ä½•æ¥å¤„ç†å…¶ä»–é”®çš„é¡ºåºå‘¢?æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä¸¤ä¸ªé€‰é¡¹æ¥æ§åˆ¶åŒº:
:set timeout
:set ttimeout
ä¸‹é¢çš„æ˜¯è¿™äº›è®¾ç½®çš„ä½œç”¨:
timeout        ttimeout    ç»“æœ
notimeout    nottimeout    æ²¡æœ‰è¶…æ—¶
timeout        N/A        æ‰€æœ‰çš„ä»£ç é”®(<F1>...)ä»¥åŠ:mapå®è¶…æ—¶.
notimeout    ttimeout    åªæœ‰ä»£ç é”®è¶…æ—¶

:set ttimeout=500
è¿™ä¸¤ä¸ªé€‰é¡¹æ˜¯å‘Šè¯‰Vimåœ¨EscæŒ‰ä¸‹åç­‰å¾…1/2ç§’æ¥å†³å®šæˆ‘ä»¬æ˜¯å¦è¿˜ä¼šè¾“å…¥åŠŸèƒ½é”®æˆ–æ˜¯ç­‰å¾…1ç§’æ¥å†³å®šæ˜¯å¦è¿˜æœ‰å…¶ä»–çš„é”®ç›˜æ˜ å°„è¾“å…¥.

	<p><i>timeoutlen</i>é€‰é¡¹ï¼Œå³ç­‰å¾…åç»­æŒ‰é”®è¾“å…¥çš„æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼ˆmillisecondï¼‰ï¼Œé»˜è®¤å€¼ä¸º1000æ¯«ç§’ï¼Œå³1ç§’ã€‚å¦‚æœå¸Œæœ›è®¾ç½®é”®ç›˜ç­‰å¾…æ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
	<p style="text-indent:2em"><code class="inset">set timeoutlen=500</code></p>
	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">è‡ªå®šä¹‰ä¿¡æ¯</p>
	<p>Vimä½¿ç”¨å±å¹•åº•éƒ¨æ¥æ˜¾ç¤ºæ¶ˆæ¯ï¼Œå¦‚æœæ¶ˆæ¯é•¿åº¦è¶…å‡ºä¸€è¡Œæ˜¯ï¼Œå°†ä¼šå¾—åˆ°ç±»ä¼¼äº&ldquo;æŒ‰å›è½¦ç»§ç»­&rdquo;çš„æç¤ºã€‚é€šè¿‡è®¾ç½® <i>cmdheight</i> é€‰é¡¹æ¥å¢åŠ æ¶ˆæ¯çš„è¡Œæ•°ï¼Œå¯ä»¥æ˜¾ç¤ºæ›´å¤šçš„ä¿¡æ¯ä»¥é¿å…ä¸å¿…è¦çš„æç¤ºã€‚ä¾‹å¦‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œè®¾ç½®å‘½ä»¤è¡Œé«˜åº¦ä¸º3è¡Œï¼š</p>
	<p style="text-indent:2em"><code class="inset">:set cmdheight=3</code></p>
	<p>å½“Vimæ•è·ä¸€ä¸ªé”™è¯¯æ—¶ï¼Œå°†ä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚å¦‚æœå¸Œæœ›åŒæ—¶å‘å‡ºå£°éŸ³è­¦å‘Šï¼Œé‚£ä¹ˆå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
	<p style="text-indent:2em"><code class="inset">:set errorbells</code></p>
	<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ç”¨visualbellé€‰é¡¹ï¼Œå½“è¾“å…¥é”™è¯¯æ—¶å±å¹•å°±ä¼šé—ªåŠ¨ç„¶åå›åˆ°æ­£å¸¸çŠ¶æ€ï¼š</p>
	<p style="text-indent:2em"><code class="inset">:set visualbell</code></p>
åœ¨exæ¨¡å¼ä¸‹è¾“å…¥å‘½ä»¤æ—¶,æˆ‘ä»¬å¯ä»¥å®ç°æ–‡ä»¶åçš„è‡ªåŠ¨å®Œæˆ.ä¾‹å¦‚å¦‚æœæˆ‘ä»¬æƒ³è¦è¯»å…¥æ–‡ä»¶input.txt,æˆ‘ä»¬å¯ä»¥è¾“å…¥ä¸‹é¢çš„å‘½ä»¤:
:read input<Tab>
Vimå°±ä¼šè¯•ç€çŒœå‡ºæˆ‘ä»¬æƒ³è¦çš„æ–‡ä»¶.å¦‚æœåœ¨æˆ‘ä»¬å½“å‰çš„ç›®å½•ä¸‹åªæœ‰æ–‡ä»¶input.txt,ä»–å°±ä¼šæ˜¾ç¤ºå‡ºå¦‚ä¸‹çš„å½¢å¼:
:read input.txt
å¦‚æœåœ¨å½“å‰ç›®å½•ä¸‹æœ‰å‡ ä¸ªå¸¦æœ‰inputçš„æ–‡ä»¶å,åˆ™ä¼šæ˜¾ç¤ºç¬¬ä¸€ä¸ª.å¦‚æœæˆ‘ä»¬å†æŒ‰ä¸‹Tab,å°±ä¼šæ˜¾ç¤ºå‡ºç¬¬äºŒä¸ªç›¸åŒ¹é…çš„ç»“æœ,å†æŒ‰ä¸‹Tabå°±ä¼šæ˜¾ç¤ºç¬¬ä¸‰ä¸ª.
æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥å®šä¹‰å®Œæˆé€šé…ç¬¦çš„é”®:
:set wildchar=character
å¦‚æœæˆ‘ä»¬æ˜¯åœ¨ä¸€ä¸ªå®å†…ä½¿ç”¨æ–‡ä»¶å,æˆ‘ä»¬è¦è®¾ç½®wildcharm.è¿™æ˜¯æˆ‘ä»¬åœ¨å®å†…å®Œæˆæ–‡ä»¶åè‡ªåŠ¨å®Œæˆçš„å­—ç¬¦.ä¾‹å¦‚ä¸‹é¢çš„å‘½ä»¤:
:set wildcharm=<F12>
:map<F11> :read in<F12>
è¿™æ ·å½“æˆ‘ä»¬æŒ‰ä¸‹F11æ—¶å°±ä¼šè¯»å…¥æ–‡ä»¶å‘½ä»¤.
ä¹Ÿè®¸æˆ‘ä»¬å¹¶ä¸å¸Œæœ›åŒ¹é…å¤‡ä»½æ–‡ä»¶æˆ–æ˜¯å…¶ä»–ç±»ä¼¼çš„æ–‡ä»¶.æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å‘Šè¯‰Vimå“ªäº›æ˜¯è¿™æ ·çš„æ–‡ä»¶:
:set wildignore=pattern,pattern
è¿™æ ·ä¸æŒ‡å®šç±»å‹ç›¸åŒ¹é…çš„æ–‡ä»¶éƒ½ä¼šè¢«å¿½ç•¥æ‰.ä¾‹å¦‚æˆ‘ä»¬è¦å¿½ç•¥ç›®å½•æ–‡ä»¶å’Œå¤‡ä»½æ–‡ä»¶,æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤:
:set wildignore=*.o,*.bak
suffixesé€‰é¡¹ä¼šåˆ—å‡ºä¸€ç³»åˆ—æ–‡ä»¶åçš„å‰ç¼€,å½“é‡åˆ°è¿™æ ·çš„å‰ç¼€æ—¶å°±ä¼šå¾—åˆ°ä¸€ä¸ªè¾ƒä½çš„ä¼˜å…ˆçº§.æ¢å¥è¯´å°±æ˜¯å¦‚æœä¸€ä¸ªæ–‡ä»¶åæœ‰è¿™æ ·çš„å‰ç¼€å°±ä¼šåœ¨åŒ¹é…æ—¶å°±ä¼šä¸€ä¸ªæ¥æ˜¾ç¤º.
ä¸€èˆ¬æƒ…å†µä¸‹,æ–‡ä»¶åçš„å®Œæˆä»£ç å¹¶ä¸ä¼šæ˜¾ç¤ºä¸€ä¸ªåŒ¹é…åˆ—è¡¨.å¦‚æœæˆ‘ä»¬è®¾ç½®ä¸‹é¢çš„é€‰é¡¹:
:set wildmenu
å½“æˆ‘ä»¬è¯•ç€è¦å®Œæˆä¸€ä¸ªæ–‡ä»¶åæ—¶,å°±ä¼šåœ¨çª—å£çš„çŠ¶æ€è¡Œæ˜¾ç¤ºä¸€ä¸ªå¯èƒ½çš„æ–‡ä»¶èœå•.
æˆ‘ä»¬å¯ä»¥é€šè¿‡æ–¹å‘é”®æ¥å®Œæˆé€‰æ‹©.åœ¨ä¸€è¡Œæœ€æœ«çš„>è¡¨æ˜åœ¨å³éƒ¨æœ‰æ›´å¤šçš„é€‰æ‹©.ä¸‹é”®å¯ä»¥ä½¿å¾—ç¼–è¾‘å™¨è¿›å…¥ä¸€ä¸ªç›®å½•.ä¸Šé”®å›åˆ°çˆ¶ç›®å½•,å›è½¦é€‰æ‹©é¡¹ç›®.
æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨wildmodeé€‰é¡¹æ¥è‡ªå®šä¹‰æ–‡ä»¶å®ŒæˆåŠŸèƒ½çš„è¡Œä¸º.ä¸‹é¢çš„å‘½ä»¤ä½¿å¾—Vimåªå®Œæˆç¬¬ä¸€ä¸ªçš„åŒ¹é…:
:set wildmode=
å¦‚æœæˆ‘ä»¬ä¸€ç›´æŒ‰ä¸‹wildcharé”®,åˆ™åªä¼šæ˜¾ç¤ºç¬¬ä¸€ä¸ªåŒ¹é…çš„ç»“æœ.
è€Œä¸‹é¢çš„å‘½ä»¤åˆ™ä¼šç”¨ä»–å¯ä»¥æŸ¥æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶æ¥å®Œæˆæ–‡ä»¶å:
:set wildmode=full
è¿™æ ·ä»¥å,å¦‚æœæˆ‘ä»¬ä¸€ç›´æŒ‰ä¸‹wildcharé”®,å…¶ä»–çš„åŒ¹é…æ–‡ä»¶å°±ä¼šæŒ‰é¡ºåºæ¥æ˜¾ç¤º.
ä¸‹é¢çš„å‘½ä»¤åˆ™ä¼šåŒ¹é…æœ€é•¿çš„å­ä¸²:
:set wildmode=longest
å½“æˆ‘ä»¬æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ—¶ä¼šå®ŒæˆåŒæ ·çš„åŠŸèƒ½,ä½†æ˜¯åªæ˜¯æ˜¾ç¤ºé‚£äº›ä½äºwildmenuä¸­çš„æ–‡ä»¶:
:set wildmode=longest:full
ä¸‹é¢çš„å‘½ä»¤åˆ™ä¼šæ˜¾ç¤ºä¸€ä¸ªå¯èƒ½çš„æ–‡ä»¶åˆ—è¡¨:
:set wildmode=list
è¿™ç§æ¨¡å¼å¹¶ä¸ä¼šåŒ¹é…å®Œæˆ.å¦‚æœæˆ‘ä»¬å¸Œæœ›è¿™æ ·çš„æƒ…å†µ,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„é€‰é¡¹:
:set wildmode=list:full
æœ€åè¦å®Œæˆæœ€é•¿çš„å­ä¸²å¹¶åˆ—å‡ºæ–‡ä»¶,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„é€‰é¡¹:
:set wildmode=list:longest
å½“æˆ‘ä»¬è®¾ç½®äº†startoflineé€‰é¡¹,å±å¹•çš„ç§»åŠ¨å‘½ä»¤ä¸ä¸€äº›å…‰æ ‡çš„ç§»åŠ¨å‘½ä»¤ä¾‹H,M,L,Gç›¸åŒ.
å¦‚æœæˆ‘ä»¬è®¾ç½®äº†writeé€‰é¡¹,æˆ‘ä»¬å¯ä»¥ä½¿Vimä¿å­˜æ–‡ä»¶.å¦‚æœæˆ‘ä»¬æ²¡æœ‰è®¾ç½®è¿™ä¸ªé€‰é¡¹,æˆ‘ä»¬åªå¯ä»¥æŸ¥çœ‹æ–‡ä»¶.å¦‚æœæˆ‘ä»¬å¸Œæœ›Vimä½œä¸ºä¸€ä¸ªå®‰å…¨çš„æŸ¥çœ‹è€…,è¿™æ ·çš„è®¾ç½®æ˜¯ç›¸å½“æœ‰ç”¨çš„.


	<p><a href="https://yyq123.github.io/learn-vim/images/.png" title=""><img src="https://yyq123.github.io/learn-vim/images/.png" alt="" width="500" height="" /></a></p>
	<p>å¦‚æœå¸Œæœ›æŸ¥çœ‹æŸä¸ªé€‰é¡¹çš„å½“å‰å€¼ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ :set option? å‘½ä»¤ï¼Œå…¶è¿”å›å€¼å°†æ˜¾ç¤ºåœ¨å±å¹•åº•éƒ¨ã€‚ä¾‹å¦‚ï¼š</p>
	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">æ˜¾ç¤ºçŠ¶æ€</p>
	<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®showmodeé€‰é¡¹ï¼Œå°†å¯ä»¥åœ¨å±å¹•åº•éƒ¨æ˜¾ç¤ºå½“å‰æ‰€å¤„çš„çŠ¶æ€ï¼š</p>
	<p style="text-indent:2em"><code class="inset">:set showmode</code></p>
	<p>å¦‚æœé¡ºåºæ‰§è¡Œè¿™äº›å‘½ä»¤ï¼Œé‚£ä¹ˆé€‰é¡¹å˜åŒ–å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
	<p><a href="https://yyq123.github.io/learn-vim/images/setoption_bl.png" title="setoption_boolean"><img src="https://yyq123.github.io/learn-vim/images/setoption_bl.png" alt="setoption_bl" /></a></p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">å‘½ä»¤è¡Œ</p>

	<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ç”¨showcmdé€‰é¡¹ï¼Œå°†ä¼šåœ¨è¾“å…¥å‘½ä»¤æ—¶ï¼Œåœ¨å±å¹•åº•éƒ¨æ˜¾ç¤ºå‡ºéƒ¨åˆ†å‘½ä»¤ï¼š</p>
	<p style="text-indent:2em"><code class="inset">:set showcmd</code></p>
	<p>ä¾‹å¦‚å¸Œæœ›è¾“å…¥fxå‘½ä»¤æ¥æŸ¥æ‰¾å­—ç¬¦&ldquo;x&rdquo;ï¼Œå½“æˆ‘ä»¬è¾“å…¥fæ—¶å°±ä¼šåœ¨åº•éƒ¨æ˜¾ç¤ºfï¼Œè¿™å¯¹äºæˆ‘ä»¬è¾“å…¥è¾ƒä¸ºå¤æ‚çš„çºµä½¿æ—¶å°±ä¼šæ˜¾ç¤ºå°¤ä¸ºæœ‰ç”¨.</p>
	<p><a href="https://yyq123.github.io/learn-vim/images/setoption_num.png" title="setoption_num"><img src="https://yyq123.github.io/learn-vim/images/setoption_num.png" alt="setoption_num" /></a></p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">æ‰“å°è®¾ç½®</p>
	<p>ä½¿ç”¨<code class="inset">:hardcopy</code>å‘½ä»¤<a href="http://yyq123.github.io/learn-vim/learn-vi-07-Print.html" title="print">æ‰“å°</a>æ–‡ä»¶æ—¶ï¼Œå°†æ ¹æ®<i>printheader</i>é€‰é¡¹æ¥å®šä¹‰é¡µçœ‰æ ¼å¼ã€‚å…¶é»˜è®¤å€¼ä¸º"%&lt;%f%h%m%=Page %N"ï¼Œå°†åœ¨é¡µçœ‰ä¸­æ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼š</p>
	<p><a href="https://yyq123.github.io/learn-vim/images/set_printheader_default.png" title="set_printheader_default"><img src="https://yyq123.github.io/learn-vim/images/set_printheader_default.png" alt="set_printheader_default" width="525" height="103" /></a></p>
	<ul>
		<li><i>File name</i>ï¼Œæ–‡ä»¶åï¼›</li>
		<li><i>Help buffer flag</i>ï¼Œå¦‚æœå½“å‰ç¼“å†²åŒºæ‰“å¼€çš„æ˜¯å¸®åŠ©æ–‡ä»¶ï¼Œå°†æ˜¾ç¤º&ldquo;[help]&rdquo;ï¼›</li>
		<li><i>Modified flag</i>ï¼Œå¦‚æœå½“å‰æ–‡ä»¶å·²è¢«æ›´æ”¹ï¼ˆmodifiedï¼‰ï¼Œå°†æ˜¾ç¤º&ldquo;[+]&rdquo;ï¼›å¦‚æœå½“å‰æ–‡ä»¶ä¸å¯ç¼–è¾‘ï¼ˆnomodifiableï¼‰ï¼Œå°†æ˜¾ç¤º&ldquo;[-]&rdquo;</li>
		<li><i>Page number</i>ï¼Œé¡µç ã€‚</li>
	</ul>
	<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥è®¾ç½®åœ¨é¡µçœ‰ä¸­æ‰“å°å½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼š</p>
	<p style="text-indent:2em"><code class="inset">set printheader=%&lt;%f%h%m%40{strftime(\"%I:%M:%S\ \%p,\ %a\ %b\ %d,\ %Y\")}%=Page\ %N</code></p>
	<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥è®¾ç½®åœ¨é¡µçœ‰ä¸­æ‰“å°æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´ï¼š</p>
	<p style="text-indent:2em"><code class="inset">set printheader=%&lt;%f%h%m%40{strftime(\"%c\",getftime(expand(\"%%\")))}%=Page\ %N</code></p>
	<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥è®¾ç½®é¡µçœ‰ä¸ºç©ºï¼ˆè¯·æ³¨æ„ï¼Œå‘½ä»¤æœ«å°¾åŒ…æ‹¬ä¸€ä¸ªç©ºæ ¼ï¼‰ï¼š</p>
	<p style="text-indent:2em"><code class="inset">:set printheader=\&nbsp;</code></p>

	Vim can be requested to wrap the text using :set wrap command. However, this is only for display and the text width used for wrapping is the width of the terminal or window that Vim is using. This has no effect on printing.

What we need to do is to set a text width and reformat the text by enforcing this text width. Note that you will need to check how many columns of text width will fit into the printed page for your font, font size and paper size.

    First, we set the text width. Let me assume that 80 columns works for my setup:

1
	
:set textwidth=80

    Next, we ask Vim to reformat the entire text file by enforcing this text width:

1
2
3
	
gg
gq
G

The breakdown of this command is: gg moves cursor to first line of file. gq is the command to reformat all text from current position to the position specified after this. G is the command to move to last line of file. When applied after gq, this reformats the entire file from first line to last line, enforcing the text width we specified earlier.

The formatted file can now be printed. After printing, you can undo this reformatting if it is not needed.

For more details about these commands:
1
2
3
	
:help textwidth
:help gq
:help wrap



	<table summary="Commands" border="1" frame="border" rules="all" cellspacing="0" cellpadding="3">
		<tr><th>å‘½ä»¤å½¢å¼</th><th>æè¿°</th><th>ç¤ºä¾‹</th></tr>
		<tr><td><code class="inset"></code></td><td></td><td><code class="inset"></code></td></tr>
	</table>
	<p>ï¼š</p>
	<p><a href="https://yyq123.github.io/learn-vim/images/" title=""><img src="https://yyq123.github.io/learn-vim/images/" alt="" /></a></p>
	<p style="text-indent:2em"><code class="inset"></code></p>
	<p>ä½¿ç”¨<code class="inset">:help set-option</code>å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹è®¾ç½®é€‰é¡¹çš„æ›´å¤šå¸®åŠ©ä¿¡æ¯ã€‚</p>


</body>
</html>
